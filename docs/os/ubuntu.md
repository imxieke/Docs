## 禁用 ipv6
/etc/sysctl.conf
```
net.ipv6.conf.all.disable_ipv6=1
net.ipv6.conf.default.disable_ipv6=1
net.ipv6.conf.lo.disable_ipv6=1
```


执行 `sysctl -p` 生效

## 从 Ubuntu 20.04 升级到 22.04 (通用)

- 先升级至最新版本

```
apt update
apt upgrade -y
apt dist-upgrade -y
apt autoclean
apt autoremove -y
```

### 升级方法一
第一种方法是使用 do-release-upgrade 命令，这个方法比较简单，一般来说可以首选这个方法。

首先安装 `update-manager-core` 软件包：

`apt install update-manager-core`
然后运行 `do-release-upgrade -d` 即可更新。按照提示操作即可。

### 升级方法二

更新 apt 源，替换 focal 为 jammy：

```
sed -i 's/focal/jammy/g' /etc/apt/sources.list
sed -i 's/focal/jammy/g' /etc/apt/sources.list.d/*.list
```

然后我们再次执行更新系统：
```
apt update
apt upgrade -y
apt dist-upgrade -y 一些保持原样的组件会被升级
```

更新后删除不必要的软件和依赖：

```
apt autoclean
apt autoremove -y
```

### Ubuntu 22.04 多个静态 IP
```
/etc/network/interfaces
# Generated by SolusVM

 auto lo
  iface lo inet loopback

 auto eth0
  iface eth0 inet static
   address 141.11.211.63
   gateway 141.11.211.1
   netmask 255.255.255.128
   dns-nameservers 8.8.8.8 8.8.4.4

 auto eth0:0
  iface eth0:0 inet static
   address 47.87.142.198
   gateway 47.87.142.1
   netmask 255.255.255.0
   dns-nameservers 8.8.8.8 8.8.4.4
```


## 查看 CPU 使用 Top
`ps -eo pid,ppid,ruser,euser,%mem,%cpu,cmd --sort=-%cpu | head -n 30`
## 查看内存使用 Top
`ps -eo pid,ppid,ruser,euser,%mem,%cpu,cmd --sort=-%mem | head -n 30`